
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
;(function($){'use strict';$.fn.fitVids=function(options){var settings={customSelector:null,ignore:null};if(!document.getElementById('fit-vids-style')){var head=document.head||document.getElementsByTagName('head')[0];var css='.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';var div=document.createElement("div");div.innerHTML='<p>x</p><style id="fit-vids-style">'+css+'</style>';head.appendChild(div.childNodes[1])}
if(options){$.extend(settings,options)}
return this.each(function(){var selectors=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]','object','embed'];if(settings.customSelector){selectors.push(settings.customSelector)}
var ignoreList='.fitvidsignore';if(settings.ignore){ignoreList=ignoreList+', '+settings.ignore}
var $allVideos=$(this).find(selectors.join(','));$allVideos=$allVideos.not('object object');$allVideos=$allVideos.not(ignoreList);$allVideos.each(function(count){var $this=$(this);if($this.parents(ignoreList).length>0){return}
if(this.tagName.toLowerCase()==='embed'&&$this.parent('object').length||$this.parent('.fluid-width-video-wrapper').length){return}
if((!$this.css('height')&&!$this.css('width'))&&(isNaN($this.attr('height'))||isNaN($this.attr('width')))){$this.attr('height',9);$this.attr('width',16)}
var height=(this.tagName.toLowerCase()==='object'||($this.attr('height')&&!isNaN(parseInt($this.attr('height'),10))))?parseInt($this.attr('height'),10):$this.height(),width=!isNaN(parseInt($this.attr('width'),10))?parseInt($this.attr('width'),10):$this.width(),aspectRatio=height/width;if(!$this.attr('id')){var videoID='fitvid'+count;$this.attr('id',videoID)}
$this.wrap('<div class="fluid-width-video-wrapper"></div>').parent('.fluid-width-video-wrapper').css('padding-top',(aspectRatio*100)+'%');$this.removeAttr('height').removeAttr('width')})})}})(window.jQuery||window.Zepto);



/**
* @preserve Sticky Anything 2.0.1 | @senff | GPL2 Licensed
*/

!function(a){function b(b,c,d,e,f,g,h){$listenerElement=a(".sticky-element-active");var i=$listenerElement.offset();if(orgElementTop=i.top,f){var j=a(f).offset();pushElementTop=j.top}var k=window,l="inner";if("innerWidth"in window||(l="client",k=document.documentElement||document.body),viewport=k[l+"Width"],a(window).scrollTop()>=orgElementTop-b&&viewport>=c&&viewport<=d){coordsOrgElement=$listenerElement.offset(),leftOrgElement=coordsOrgElement.left,widthPlaceholder=$listenerElement[0].getBoundingClientRect().width,widthPlaceholder||(widthPlaceholder=$listenerElement.css("width")),heightPlaceholder=$listenerElement[0].getBoundingClientRect().height,heightPlaceholder||(heightPlaceholder=$listenerElement.css("height")),widthSticky=a(".sticky-element-original").css("width"),"0px"==widthSticky&&(widthSticky=a(".sticky-element-original")[0].getBoundingClientRect().width),heightSticky=a(".sticky-element-original").height(),paddingOrgElement=[a(".sticky-element-original").css("padding-top"),a(".sticky-element-original").css("padding-right"),a(".sticky-element-original").css("padding-bottom"),a(".sticky-element-original").css("padding-left")],paddingSticky=paddingOrgElement[0]+" "+paddingOrgElement[1]+" "+paddingOrgElement[2]+" "+paddingOrgElement[3],marginOrgElement=[$listenerElement.css("margin-top"),$listenerElement.css("margin-right"),$listenerElement.css("margin-bottom"),$listenerElement.css("margin-left")],marginPlaceholder=marginOrgElement[0]+" "+marginOrgElement[1]+" "+marginOrgElement[2]+" "+marginOrgElement[3],assignedStyles="";for(var m in g)"inline"==g[m]?assignedStyles+=m+":inline-block; ":assignedStyles+=m+":"+g[m]+"; ";elementHeight=0,heightPlaceholder<1?elementHeight=a(".sticky-element-cloned").outerHeight():elementHeight=a(".sticky-element-original").outerHeight(),f&&a(window).scrollTop()>pushElementTop-b-elementHeight?stickyTopMargin=pushElementTop-b-elementHeight-a(window).scrollTop():stickyTopMargin=0,assignedStyles+="width:"+widthPlaceholder+"px; height:"+heightPlaceholder+"px; margin:"+marginPlaceholder+";",a(".sticky-element-original").removeClass("sticky-element-not-sticky").addClass("sticky-element-sticky").removeClass("sticky-element-active").css("position","fixed").css("left",leftOrgElement+"px").css("top",b+"px").css("width",widthSticky).css("margin-left",0).css("padding",paddingSticky).css("margin-top",stickyTopMargin).css("z-index",e),a(".sticky-element-placeholder").hasClass("sticky-element-active")||a(".sticky-element-placeholder").addClass("sticky-element-active").attr("style",assignedStyles)}else a(".sticky-element-original").addClass("sticky-element-not-sticky").removeClass("sticky-element-sticky").addClass("sticky-element-active").attr("style",h),a(".sticky-element-placeholder").hasClass("sticky-element-active")&&a(".sticky-element-placeholder").removeClass("sticky-element-active").removeAttr("style").css("width","0").css("height","0").css("margin","0").css("padding","0")}function c(){a(".sticky-element-original").addClass("sticky-element-active").before('<div class="sticky-element-placeholder" style="width:0; height:0; margin:0; padding:0; visibility:hidden;"></div>')}function d(a){return o={},o.display=a.css("display"),o.float=a.css("float"),o.flex=a.css("flex"),o["box-sizing"]=a.css("box-sizing"),o.clear=a.css("clear"),o.overflow=a.css("overflow"),o.transform=a.css("transform"),o}a.fn.stickThis=function(e){var f=a.extend({top:0,minscreenwidth:0,maxscreenwidth:99999,zindex:1,debugmode:!1,pushup:""},e),g=a(this).length,h=a(f.pushup).length;return h<1?(1==f.debugmode&&f.pushup&&console.error('STICKY ANYTHING DEBUG: There are no elements with the selector/class/ID you selected for the Push-up element ("'+f.pushup+'").'),f.pushup=""):h>1&&(1==f.debugmode&&console.error("STICKY ANYTHING DEBUG: There are "+h+' elements on the page with the selector/class/ID you selected for the push-up element ("'+f.pushup+'"). You can select only ONE element to push the sticky element up.'),f.pushup=""),g<1?1==f.debugmode&&console.error('STICKY ANYTHING DEBUG: There are no elements with the selector/class/ID you selected for the sticky element ("'+this.selector+'").'):g>1?1==f.debugmode&&console.error("STICKY ANYTHING DEBUG: There There are "+h+' elements with the selector/class/ID you selected for the sticky element ("'+this.selector+'"). You can only make ONE element sticky.'):(a(this).addClass("sticky-element-original").addClass("sticky-element-not-sticky"),orgAssignedStyles=d(a(this)),orgInlineStyles=a(".sticky-element-original").attr("style"),null==orgInlineStyles&&(orgInlineStyles=""),c(),checkElement=setInterval(function(){b(f.top,f.minscreenwidth,f.maxscreenwidth,f.zindex,f.pushup,orgAssignedStyles,orgInlineStyles)},10)),this}}(jQuery);



"use strict";jQuery(document).ready(function($){$('.toggle-search').on('click',function(){$('.toggle-search').toggleClass('active');$('.search-expand').fadeToggle(250);setTimeout(function(){$('.search-expand input').focus()},300)});$('a#back-to-top').on('click',function(){$('html, body').animate({scrollTop:0},'slow');return!1});(function(){var $tabsNav=$('.alx-tabs-nav'),$tabsNavLis=$tabsNav.children('li'),$tabsContainer=$('.alx-tabs-container');$tabsNav.each(function(){var $this=$(this);$this.next().children('.alx-tab').stop(!0,!0).hide().siblings($this.find('a').attr('href')).show();$this.children('li').first().addClass('active').stop(!0,!0).show()});$tabsNavLis.on('click',function(e){var $this=$(this);$this.siblings().removeClass('active').end().addClass('active');$this.parent().next().children('.alx-tab').stop(!0,!0).hide().siblings($this.find('a').attr('href')).fadeIn();e.preventDefault()}).children(window.location.hash?'a[href="'+window.location.hash+'"]':'a:first').trigger('click')})();$('.comment-tabs li').on('click',function(){$('.comment-tabs li').removeClass('active');$(this).addClass('active');$('.comment-tab').hide();var selected_tab=$(this).find('a').attr('href');$(selected_tab).fadeIn();return!1});$('table tr:odd').addClass('alt');function responsiveVideo(){if($().fitVids){$('#wrapper').fitVids()}}
responsiveVideo();$('.logged-out #header-sticky').stickThis({top:0,minscreenwidth:1081,maxscreenwidth:999999,zindex:99,debugmode:!1,pushup:''});$('.admin-bar #header-sticky').stickThis({top:32,minscreenwidth:1081,maxscreenwidth:999999,zindex:99,debugmode:!1,pushup:''});var infiniteCount=2;$(document.body).on('post-load',function(){var elements=$('.infinite-wrap.infinite-view-'+infiniteCount+' article');$('#masonry').imagesLoaded().done(function(){$('#masonry').masonry('appended',elements);infiniteCount++})});var scrollTimeOut=!0,lastYPos=0,yPos=0,yPosDelta=5,nav=$('.hide-on-scroll-down'),navHeight=nav.outerHeight(),setNavClass=function(){scrollTimeOut=!1;yPos=$(window).scrollTop();if(Math.abs(lastYPos-yPos)>=yPosDelta){if(yPos>lastYPos&&yPos>navHeight){nav.addClass('hide-scroll')}else{nav.removeClass('hide-scroll')}
lastYPos=yPos}};$(window).scroll(function(e){scrollTimeOut=!0});setInterval(function(){if(scrollTimeOut){setNavClass()}},250);$.fn.randomize=function(selector){var $elems=selector?$(this).find(selector):$(this).children(),$parents=$elems.parent();$parents.each(function(){$(this).children(selector).sort(function(childA,childB){if($(childB).index()!==$(this).children(selector).length-0.5){return Math.round(Math.random())-0.5}}.bind(this)).detach().appendTo(this)});return this};var htmlElement=document.documentElement;var direction=htmlElement.getAttribute('dir');$(".slick-featured").randomize().slick({centerMode:!0,centerPadding:'0',slidesToShow:1,appendArrows:'.slick-featured-nav',dots:!0,rtl:direction==='rtl',responsive:[{breakpoint:1280,settings:{arrows:!0,centerMode:!0,centerPadding:'0',slidesToShow:1}},{breakpoint:1024,settings:{arrows:!0,centerMode:!0,centerPadding:'0',slidesToShow:1}},{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:'0',slidesToShow:1}},{breakpoint:480,settings:{arrows:!0,centerMode:!0,centerPadding:'0',slidesToShow:1}}]});$('.slick-featured-wrap-outer').show();$('.slick-image-slide').each(function(){$(this).slick({dots:!1,adaptiveHeight:!0,appendArrows:$(this).parents('.slick-image-slide-wrapper').find('.slick-image-slide-nav'),appendDots:$(this).parents('.slick-image-slide-wrapper').find('.slick-image-slide-dots')})});const focusableElements='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';const modal=document.querySelector('.search-trap-focus');if(modal){const firstFocusableElement=modal.querySelectorAll(focusableElements)[0];const focusableContent=modal.querySelectorAll(focusableElements);const lastFocusableElement=focusableContent[focusableContent.length-1];document.addEventListener('keydown',function(e){let isTabPressed=e.key==='Tab'||e.keyCode===9;if(!isTabPressed){return}
if(e.shiftKey){if(document.activeElement===firstFocusableElement){lastFocusableElement.focus();e.preventDefault()}}else{if(document.activeElement===lastFocusableElement){firstFocusableElement.focus();e.preventDefault()}}})}});



if(window.NodeList&&!NodeList.prototype.forEach){NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++){callback.call(thisArg,this[i],i,this)}}}
window.alxMediaMenu={init:function(args){var self=this,navs=document.querySelectorAll(args.selector);if(!navs.length){return}
navs.forEach(function(nav){var menuToggler=nav.querySelector('.menu-toggle');if(!nav.querySelector('ul')&&nav.querySelector('.menu-toggle')){nav.querySelector('.menu-toggle').style.display='none'}
if(!nav.classList.contains('nav-menu')){nav.classList.add('nav-menu')}
self.toggleHoverEventListeners(nav);nav.querySelectorAll('a,button').forEach(function(link){link.addEventListener('focus',window.alxMediaMenu.toggleFocus,!0);link.addEventListener('blur',window.alxMediaMenu.toggleFocus,!0)});menuToggler.addEventListener('click',function(){if(nav.classList.contains('toggled')){menuToggler.setAttribute('aria-expanded','false');nav.classList.remove('toggled')}else{menuToggler.setAttribute('aria-expanded','true');nav.classList.add('toggled')}});document.addEventListener('click',function(event){if(!nav.contains(event.target)){nav.classList.remove('toggled');nav.querySelectorAll('button.active,.sub-menu.active').forEach(function(el){el.classList.remove('active')});menuToggler.setAttribute('aria-expanded','false')}})});window.alxMediaMenu.toggleMobile(args.selector,args.breakpoint);window.addEventListener('resize',function(){if(!window.resizeDebouncedTimeout){window.resizeDebouncedTimeout=setTimeout(function(){window.resizeDebouncedTimeout=null;window.alxMediaMenu.toggleMobile(args.selector,args.breakpoint)},250)}});document.querySelectorAll(args.selector).forEach(function(el){window.alxMediaMenu.toggleFocusTouch(el)})},toggleItem:function(el){var parentLi=this.helper.firstAncestorMatch(el,'li'),parentUl=this.helper.firstAncestorMatch(el,'ul'),ul=parentLi.querySelector('ul.sub-menu');parentLi.classList.remove('hover');ul.setAttribute('tabindex','-1');this.helper.toggleClass(ul,'active');this.helper.toggleClass(el,'active');parentUl.querySelectorAll('ul.sub-menu').forEach(function(subMenu){var subMenuButton;if(!parentLi.contains(subMenu)){subMenu.classList.remove('active');subMenuButton=subMenu.parentNode.querySelector('button.active');if(subMenuButton){subMenuButton.classList.remove('active')}}})},toggleMobile:function(selector,breakpoint){var self=this,screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,navs=document.body.querySelectorAll(selector),isMobile;breakpoint=breakpoint||720;isMobile=breakpoint>screenWidth;if(isMobile){navs.forEach(function(nav){if(!nav.classList.contains('mobile')){nav.classList.add('mobile');self.toggleHoverEventListeners(nav)}})}else{navs.forEach(function(nav){if(nav.classList.contains('mobile')){nav.classList.remove('mobile');self.toggleHoverEventListeners(nav)}})}},liMouseEnterEvent:function(){this.classList.add('hover')},liMouseLeaveEvent:function(){this.classList.remove('hover')},toggleHoverEventListeners:function(nav){if(nav.classList.contains('mobile')){this.removeHoverEventListeners(nav)}else{this.addHoverEventListeners(nav)}},addHoverEventListeners:function(nav){nav.querySelectorAll('li').forEach(function(li){li.addEventListener('mouseenter',window.alxMediaMenu.liMouseEnterEvent);li.addEventListener('mouseleave',window.alxMediaMenu.liMouseLeaveEvent)})},removeHoverEventListeners:function(nav){nav.querySelectorAll('li').forEach(function(li){li.removeEventListener('mouseenter',window.alxMediaMenu.liMouseEnterEvent);li.removeEventListener('mouseleave',window.alxMediaMenu.liMouseLeaveEvent)})},toggleFocus:function(){var self=this;while(-1===self.className.indexOf('nav-menu')){if('li'===self.tagName.toLowerCase()){if(-1!==self.className.indexOf('focus')){self.className=self.className.replace(' focus','')}else{self.className+=' focus'}}
self=self.parentElement}},toggleFocusTouch:function(el){var touchStartFn,parentLinks=el.querySelectorAll('.menu-item-has-children > a, .page_item_has_children > a');if('ontouchstart' in window){touchStartFn=function(e){var menuItem=this.parentNode;if(!menuItem.classList.contains('focus')){e.preventDefault();menuItem.parentNode.children.forEach(function(child){if(menuItem!==child){child.classList.remove('focus')}});menuItem.classList.add('focus')}else{menuItem.classList.remove('focus')}};parentLinks.forEach(function(parentLink){parentLink.addEventListener('touchstart',touchStartFn,!1)})}},helper:{toggleClass:function(el,className){if(el.classList.contains(className)){el.classList.remove(className)}else{el.classList.add(className)}},firstAncestorMatch:function(el,selector){if(el.parentNode.matches(selector)){return el.parentNode}
return this.firstAncestorMatch(el.parentNode,selector)}}};window.alxMediaMenu.init({selector:'.main-navigation.nav-menu',breakpoint:720});


